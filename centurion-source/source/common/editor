#pragma once

#include <gui>
#include <json.hpp>
#include <object>

using namespace std;
using namespace glm;

class Surface;
class UIGame;
class Player;

namespace editor {

	using namespace unit;
	using namespace building;

	//
	//	EDITOR CLASS --> source/editor/editor.cpp
	//

	class Editor
	{
	public:
		Editor();
		bool editor_is_created() { return editorIsCreated; }
		void reset() { editorIsCreated = false; }
		void create();
		void run();
		void handleKeyboardControls();
		~Editor();
	private:
		Surface *surface;
		glm::mat4 proj, view;
		int pickingID;
		bool editorIsCreated;
	};

	static Editor myeditor;
	Editor *EDITOR();

	// 
	//	EDITOR FUNCTIONS
	//

	extern Unit unitTemp;
	extern Building buildingTemp;

	void prepareObject(string type, string classname);
	void insertingObject(string type, string classname);
	void addObject(string type);
};