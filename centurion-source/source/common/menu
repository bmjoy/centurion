#pragma once

#include <gui>
#include <json.hpp>

using namespace std;
using namespace glm;



namespace menu {
	class PlayersList;
	class GlobalOptions;

	class Menu
	{
	public:
		Menu();
		bool menu_is_created() { return menuIsCreated; }
		void reset();
		void create();
		void update();
		void render();
		~Menu();

	private:
		json data;
		string currentMenu;
		vector<string> menus;
		map<string, vector<gui::Image>> images;
		map<string, vector<gui::Button>> buttons;
	
		PlayersList *list;
		GlobalOptions *options;
		void picking(); // this function is here: source/picking/mainmenu_picking.cpp

		/* INFORMATIONS */
		int num_players;
		vector<int> players_color;
		bool menuIsCreated;
	};

	static Menu mymenu;
	Menu *MENU();
}